<div class="hero-holder"></div>

<div class="btn-toolbar ">
  <button id="add-card-btn" class="btn btn-large btn-danger">Add a New Card</button>
  <button id="change-style-btn" class="btn btn-large btn-danger" data-toggle="collapse" data-target="#card-style-carosel-parent">Change Card Style</button>
  <button class="btn btn-large pull-right" onclick="window.history.back();">Back</button>
</div>

<div class="styles-holder"></div>

<div class="cards-holder"></div>

<script type="text/javascript">

  window.App = window.App || {};
  window.App.data = window.App.data || {};

  App.data.deck_id = <%= @deck.id %>;

  $(function(){
    getDeckHero('.hero-holder', <%= @deck.to_json.to_s.html_safe %>);
    getStyles('.styles-holder', <%= @styles.to_json.to_s.html_safe %>);
    getCards('.cards-holder', <%= @cards.to_json(:include => {:style => {:only => :template_name }}).to_s.html_safe %>);
  });

  $("#add-card-btn").bind("click", function(){
    window.cardsView.newCard();
  });

</script>
